---
title: 第8章 python函数 
tags: python
---

------

&emsp;&emsp;<font color=blue>**_版权声明_**</font>：本文参考了<font color=blue>[《菜鸟教程》](http://www.runoob.com/ "点击跳转")、[《易百教程》](https://www.yiibai.com/ "点击跳转")、[《python3 官方文档》](https://www.python.org/doc/ "点击跳转")。</font><font color=red>未经作者允许，<font color=blue>严禁用于商业出版</font>，否则追究法律责任。网络转载请注明出处，这是对原创者的起码的尊重！！！</font>

&emsp;&emsp;*注意：此教程基于python3.5*

---

# 1 函数定义和调用
* 函数定义
	* 函数代码块以 `def `关键词开头，后接函数名和圆括号()。
	* 参数必须放在圆括号中，用逗号隔开
	* 函数内容以冒号起始，并且缩进。
	* 函数内容的第一行语句可以使用文档字符串来存放函数说明。可以通过`fun.:__doc__`来访问。
	* `return [表达式] `结束函数，返回一个值给调用方。不带表达式的return相当于 `return  None`，可省略。
* 函数调用
	* 按顺序调用：`函数名(实参1，实参2...) `，要求实参与形参的数目、类型、顺序，完全一一对应。
	* 按关键字调用：`函数名(形参1=实参1，形参2=实参2...)`，要求实参与形参数量、类型一致，但顺序不需要一致，python会自动匹配。
 
```python
#函数定义
def fun_name(x,y):
"加法"
    return x+y
    
#函数调用    
a=10
b=20
add(a,b)
add(y=b,x=a)
```

# 2 参数传递
在 python 中，类型属于对象，**变量是没有类型**的：她仅仅是一个对象的引用（一个指针），可以是 List 类型对象，也可以指向 String 类型对象。

* 可更改与不可更改对象
	* 不可更改类型（字符串、数字、元组）：变量赋值` a=5 `后再赋值 `a=10`，这里实际是新生成一个 int 值对象 10，再让 a 指向它，而 5 被丢弃，不是改变a的值，相当于新生成了a。strings, tuples, 和 numbers 是不可更改的对象。
	* 可更改类型（列表、字典、集合）：变量赋值 `la=[1,2,3,4]` 后再赋值 `la[2]=5` 则是将 list la的第三个元素值更改，本身la没有动，只是其内部的一部分值被修改了。list，dict 等则是可以修改的对象。

* python 函数的参数传递：
	* 不可更改类型：类似 c++ 的值传递，如数值、字符串、元组，集合。如fun（a），传递的只是a的值，没有影响a对象本身。比如在 fun（a）内部修改 a 的值，只是修改另一个复制的对象，不会影响 a 本身。
	* 可更改类型：类似 c++ 的引用传递，如 列表，字典。如 fun（la），则是将 la 真正的传过去，修改后fun外部的la也会受影响
 

# 3 参数分类
* **必需参数**
	* 函数定义时，不指定默认值。
	* 调用函数时，必须给出。
```python
#定义
def  fun(arg1,arg2):
    pass
    
#调用
fun(1,2)
fun(arg1=2,arg2=1)
```

* **默认参数**
	* 函数定义时，设置默认值，
	* 函数调用时
		 * 可以不给出值，此时使用默认值。
		 * 如果要给出多个默认参数中的非第一个参数，则要用关键字参数来调用。
```python
#定义
def  fun(arg1,arg2=0，arg3=0):
    pass

#调用    
fun(1)
fun(arg1=2,arg3=1)
```
* **可变长参数**
	 * **可变长位置参数**
		 * 可变位置参数允许你传入0个或任意个参数，这些可变参数在函数调用时自动组装为一个tuple。 
		 * 函数定义时，在参数前加星号表示，如`*parameters`。
		 * 函数调用时，python将传入的不定长参数收集为**元组**，并赋值给包裹位置参数`parameters`。
		 * `*`也可用于元组或列表前，当实参是元组或列表时，让每一个元素与形参一一对应,此时实参应只有该元组或列表
	 * **可变长关键字参数(关键字参数)**
		 * 可变长关键字参数允许你传入0个或任意个键值对参数，这些关键字参数在函数内部自动组装为一个dict。
		 * 函数定义时，在参数前加双星号表示，如`**kw`。
		 * 函数调用时，python将传入的`参数名=值`收集为**字典**，并赋值给可变长关键字参数`kw`
		 * `**`也可用于字典前，当实参是词典时，让词典的每个元素按键与形参匹配，此时实参应只有该字典


```python
#定义
def  fun(arg1,arg2,*args,**kw):
    pass

#调用    
fun(1,2)
fun(1,2,3,4)
fun(1,2,3,4,arg5=5,arg6=6)
fun(*[1,2])
fun(**{'arg1':1,'arg2':2})

```
* **命名关键字参数**——python2.x不支持
	* 限制要传入的参数的名字，只能传已命名的关键字参数。
	* 定义时需要一个特殊分隔符*，而后面的参数被视为命名关键字参数。
	 * 如果函数定义中已经有了一个可变参数，后面跟着的命名关键字参数就不再需要一个特殊分隔符`*`了
	 * 函数调用时必须以`参数名=值`的形式传入命名关键字参数
	 * 命名关键字参数是必须参数，不可少,可带有默认值，此时可省略
```python
#定义
def  fun1(arg1,*,arg2,arg3=0):
    pass
def  fun1(arg1,*args,arg2,arg3=0):
    pass

#调用    
fun1(1,arg2=2)
fun1(1,arg2=2,arg3=3)

fun2(1,2,3,arg2=2,arg3=3)
```
* 定义和调用基本规则：(必选参数,默认参数,可变长参数,命名关键字参数，关键字参数)


```python
#函数定义                                                                                         def fun(arg1,arg2,arg3=None,*arg4,arg5,arg6,**kw):
     "arg1，arg2是必须参数arg3是默认参数，arg4是变长位置参数，arg5和arg6是命名关键字参数，kw是变长关键字参数"
     print(arg1,arg2,arg3,arg4,arg5,arg6,kw)
#函数调用
fun(1,2,3,4,5,arg5=6,arg6=7,arg8=8,arg9=9)

#结果
1 2 3 (4,5) 6 7 {'arg8':8, 'arg9':9}
```



# 4 匿名函数——lambda表达式
```python
#语法
lambda [arg1 [,arg2,.....argn]]:expression
```
* 匿名函数使用lambda关键字创建小型匿名函数。

* Lambda表达式可以接受任意数量的参数，但只能以表达式的形式返回一个值 ，不能包含命令或多个表达式。
* 匿名函数不能直接调用打印，因为lambda需要一个表达式。
* Lambda函数有自己的局部命名空间，不能访问其参数列表和全局命名空间中的变量。
* 虽然lambdas是一个单行版本的函数，但它们并不等同于C或C++中的内联语句

# 5 递归
* 函数可以递归——函数定义中可以调用自己
 * 可以通过递归调用来缩小问题规模，且新问题与原问题有着相同的形式。 
 * 存在一种简单情境，可以使递归在简单情境下退出。
```python
def fun(x):
    if x==0:
        return 1
    else:
        return x*fun(x-1)
```

# 6 嵌套定义

 &emsp;&emsp;**函数可以嵌套定义**：函数定义中可以嵌套定义并调用一个函数，但只限于函数内部可调用

---

&emsp;&emsp;<font color=blue>**_版权声明_**</font>：本文参考了<font color=blue>[《菜鸟教程》](http://www.runoob.com/ "点击跳转")、[《易百教程》](https://www.yiibai.com/ "点击跳转")、[《python3 官方文档》](https://www.python.org/doc/ "点击跳转")。</font><font color=red>未经作者允许，<font color=blue>严禁用于商业出版</font>，否则追究法律责任。网络转载请注明出处，这是对原创者的起码的尊重！！！</font>

&emsp;&emsp;*注意：此教程基于python3.5*

------
